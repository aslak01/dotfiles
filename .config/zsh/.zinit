# .zinit

# Load zsh-vi-mode FIRST to avoid widget conflicts
# üõ†Ô∏è Moved to top to initialize before other plugins
zinit ice depth=1 wait lucid
zinit light jeffreytse/zsh-vi-mode

# Starship prompt (managed by Zinit)
zinit ice as"command" from"gh-r" \
          atclone"./starship init zsh > init.zsh; ./starship completions zsh > _starship" \
          atpull"%atclone" src"init.zsh" \
          wait"1" lucid  # üõ†Ô∏è Added explicit wait
zinit light starship/starship

# Load zsh-autosuggestions with priority loading
# üõ†Ô∏è Changed wait to "0a" to load before syntax highlighting
zinit ice wait"0a" lucid atload"_zsh_autosuggest_start"
zinit light zsh-users/zsh-autosuggestions

# Load syntax highlighting AFTER autosuggestions
# üõ†Ô∏è Changed wait to "0b" to ensure proper order
zinit ice wait"0b" lucid atinit"FAST_HIGHLIGHT=()"
zinit light zdharma-continuum/fast-syntax-highlighting

# Lazy-load fzf-tab
zinit ice wait"1" lucid
zinit light Aloxaf/fzf-tab

# Lazy-load fzf
zinit ice from"gh-r" as"program" wait"1" lucid
zinit light junegunn/fzf

# Lazy-load zoxide
zinit ice as"program" from"gh-r" \
          atclone"./zoxide init zsh > init.zsh" \
          atpull"%atclone" src"init.zsh" \
          wait"1" lucid
zinit light ajeetdsouza/zoxide

# Lazy-load pyenv
zinit ice wait"1" lucid atload'pyenv() { eval "$(command pyenv init - --no-rehash)"; pyenv "$@" }'
zinit light pyenv/pyenv

# Lazy-load additional plugins
zinit ice wait"1" lucid
zinit snippet OMZP::git

zinit ice wait"1" lucid
zinit snippet OMZ::plugins/sudo/sudo.plugin.zsh

# zsh-autosuggestions config
# üõ†Ô∏è Moved below zsh-vi-mode initialization
ZSH_AUTOSUGGEST_USE_ASYNC=true
bindkey '^f' autosuggest-accept
